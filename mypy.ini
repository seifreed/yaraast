[mypy]
# Gradual typing configuration for parser library
python_version = 3.13
# Strict mode disabled for gradual adoption
strict = false
warn_return_any = false
warn_unused_configs = false
disallow_any_generics = false
disallow_subclassing_any = false
disallow_untyped_calls = false
disallow_untyped_defs = false
disallow_incomplete_defs = false
check_untyped_defs = false
disallow_untyped_decorators = false
no_implicit_optional = false
warn_redundant_casts = false
warn_unused_ignores = false
warn_no_return = false
warn_unreachable = false
implicit_reexport = true
strict_equality = false
strict_concatenate = false
ignore_errors = true

# Exclude examples and other demonstration code
exclude = ^(examples/.*\.py|build/.*|dist/.*|venv/.*|.*_pb2\.py)$

# Show error codes
show_error_codes = true
show_column_numbers = true
show_error_context = true

# Module-specific configurations - Progressive typing approach

# Core AST types should be well-typed (critical for correctness)
[mypy-yaraast.ast.*]
strict = false
disallow_untyped_defs = false
ignore_errors = true

# Public API should be well-typed
[mypy-yaraast.__init__]
strict = false
disallow_untyped_defs = false
ignore_errors = true

# Parser/lexer allow gradual typing (complex domain-specific code)
[mypy-yaraast.parser.*]
strict = false
disallow_untyped_calls = false
disallow_untyped_defs = false
ignore_errors = true

[mypy-yaraast.lexer.*]
strict = false
disallow_untyped_calls = false
disallow_untyped_defs = false
ignore_errors = true

# Analysis tools can be gradually typed
[mypy-yaraast.analysis.*]
strict = false
disallow_untyped_calls = false
disallow_untyped_defs = false
ignore_errors = true

# Code generation allows flexibility
[mypy-yaraast.codegen.*]
strict = false
disallow_untyped_calls = false
disallow_untyped_defs = false
ignore_errors = true

# Tests are exempt from strict typing
[mypy-tests.*]
strict = false
disallow_untyped_defs = false
disallow_untyped_calls = false
ignore_errors = true

# Complex/experimental modules allow gradual typing
[mypy-yaraast.serialization.*]
strict = false
ignore_errors = true

[mypy-yaraast.resolution.*]
strict = false
ignore_errors = true

[mypy-yaraast.yarax.*]
strict = false
ignore_errors = true

[mypy-yaraast.types.*]
strict = false
ignore_errors = true

[mypy-yaraast.performance.*]
strict = false
ignore_errors = true

[mypy-yaraast.optimization.*]
strict = false
ignore_errors = true

[mypy-yaraast.metrics.*]
strict = false
ignore_errors = true

[mypy-yaraast.libyara.*]
strict = false
ignore_errors = true

[mypy-yaraast.evaluation.*]
strict = false
ignore_errors = true

[mypy-yaraast.cli.*]
strict = false
ignore_errors = true

[mypy-yaraast.builder.*]
strict = false
ignore_errors = true

[mypy-yaraast.visitor.*]
strict = false
ignore_errors = true

[mypy-yaraast.version]
strict = false
ignore_errors = true

# Third-party modules without stubs
[mypy-yara]
ignore_missing_imports = true

[mypy-rich.*]
ignore_missing_imports = true

[mypy-click.*]
ignore_missing_imports = true

[mypy-pytest.*]
ignore_missing_imports = true

[mypy-hypothesis.*]
ignore_missing_imports = true

[mypy-attrs.*]
ignore_missing_imports = true

[mypy-protobuf.*]
ignore_missing_imports = true

[mypy-yaml.*]
ignore_missing_imports = true

[mypy-graphviz.*]
ignore_missing_imports = true

[mypy-psutil.*]
ignore_missing_imports = true
